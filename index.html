<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Heyy ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fff0f5;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
  transition: background 2s ease;
}

.box {
  max-width: 90%;
}

h1 {
  font-size: 24px;
  min-height: 70px;
}

p {
  font-size: 18px;
  line-height: 1.6;
  opacity: 0;
  transition: opacity 1s;
  margin: 5px 0;
}

button {
  margin-top: 20px;
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 20px;
  background: #ff4d6d;
  color: white;
  cursor: pointer;
  transition: transform 0.3s;
}

.choices {
  display: none;
  margin-top: 20px;
  gap: 20px;
  justify-content: center;
}

.choices button {
  background: #ff758f;
}

/* ===== YES BUTTON HEARTBEAT ===== */
@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  25% { transform: scale(1.1); }
  50% { transform: scale(1); }
  75% { transform: scale(1.1); }
}

.heartbeat {
  animation: heartbeat 1s infinite;
}

#backBtn {
  display: none;
  margin-right: 10px;
  background: #ff758f;
}
</style>
</head>

<body>

<div class="box">
  <div id="content"></div>

  <button id="backBtn">Back</button>
  <button id="nextBtn">Next</button>

  <div class="choices" id="choices">
    <button id="yesBtn">Yes ‚ù§Ô∏è</button>
    <button id="noBtn">No üôÉ</button>
  </div>
</div>

<script>
const steps = [
  "Heyy",
  "I need to ask you a really important question",
  "But are you really Wareesha?",
  "Wareesha Naeem?",
  "Smile if you are Wareesha",
  "Good üòå",
  "Dance if you‚Äôre my Wareesha",
  "Just kidding üòÇ",
  "Do you love me?"
];

let stepIndex = 0;
let stage = "normal"; // normal ‚Üí knew ‚Üí love ‚Üí paragraph
let noClickCount = 0;

const content = document.getElementById("content");
const nextBtn = document.getElementById("nextBtn");
const backBtn = document.getElementById("backBtn");
const choices = document.getElementById("choices");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

function typeText(text, callback) {
  content.innerHTML = "<h1></h1>";
  const h1 = content.querySelector("h1");
  let i = 0;
  const interval = setInterval(() => {
    h1.textContent += text[i];
    i++;
    if (i >= text.length) {
      clearInterval(interval);
      if (callback) callback();
    }
  }, 40);
}

function showStep() {
  choices.style.display = "none";
  nextBtn.style.display = "inline-block";
  backBtn.style.display = "none";

  typeText(steps[stepIndex], () => {
    if (steps[stepIndex] === "Do you love me?") {
      nextBtn.style.display = "none";
      choices.style.display = "flex";
      yesBtn.classList.add("heartbeat");
      noBtn.style.transform = "scale(1)";
      noClickCount = 0;
    }
  });
}

function showParagraphFade() {
  const paragraphLines = [
    "Not gonna ask you to be my Valentine‚Ä¶",
    "because you‚Äôre already mine üòå",
    "I wanna be the guy who wakes up with you every morning,",
    "sleeps next to you every night,",
    "watches movies with you,",
    "watch you eat your lunch like it‚Äôs my favorite show,",
    "and unlimited access to your drama üíù"
  ];

  content.innerHTML = "";
  paragraphLines.forEach(line => {
    const p = document.createElement("p");
    p.textContent = line;
    content.appendChild(p);
  });

  const ps = content.querySelectorAll("p");
  let index = 0;
  const fadeInterval = setInterval(() => {
    ps[index].style.opacity = 1;
    index++;
    if (index >= ps.length) clearInterval(fadeInterval);
  }, 600);
}

nextBtn.onclick = () => {
  if (stage === "knew") {
    typeText("I Love You toooo ‚ù§Ô∏è");
    stage = "love";
    return;
  }

  if (stage === "love") {
    showParagraphFade();
    stage = "paragraph";
    return;
  }

  if (stepIndex < steps.length - 1) {
    stepIndex++;
    showStep();
  }
};

backBtn.onclick = () => {
  // Go back to previous step
  if (stage === "secondThoughts") {
    stage = "normal";
    showStep();
  }
};

yesBtn.onclick = () => {
  choices.style.display = "none";
  nextBtn.style.display = "inline-block";
  stage = "knew";
  typeText("I knew it ü•∞");

  yesBtn.style.transition = "transform 0.5s";
  yesBtn.style.transform = "scale(1.5)";
  document.body.style.background = "linear-gradient(135deg, #ff9fc3, #ffe0e9)";
};

noBtn.onclick = () => {
  // Shrink No button
  noClickCount++;
  const scale = Math.max(0.2, 1 - 0.15 * noClickCount);
  noBtn.style.transform = `scale(${scale})`;
  if (scale <= 0.2) noBtn.style.display = "none";

  // Show second thoughts message
  choices.style.display = "none";
  nextBtn.style.display = "inline-block";
  backBtn.style.display = "inline-block";
  stage = "secondThoughts";
  typeText("Having second thoughts? Huh?");
};

showStep();
</script>

</body>
</html>